Swiper.prototype.plugins.scrollbar=function(a,b){function f(a){return document.querySelectorAll?document.querySelectorAll(a):jQuery(a)}function s(b){r=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,w(b),clearTimeout(z),a.setTransition(i,0),i.style.opacity=1,a.setWrapperTransition(100),a.setTransition(p,100)}function t(b){r&&(b.preventDefault?b.preventDefault():b.returnValue=!1,w(b),a.setWrapperTransition(0),a.setTransition(i,0),a.setTransition(p,0))}function u(){r=!1,b.hide&&(clearTimeout(z),z=setTimeout(function(){i.style.opacity=0,a.setTransition(i,400)},1e3)),b.snapOnRelease&&a.swipeReset()}function w(b){var c=y=0;h?(c=(b.pageX||b.clientX)-a.h.getOffset(i).left-n/2,0>c?c=0:c+n>j&&(c=j-n)):(y=(b.pageY||b.clientY)-a.h.getOffset(i).top-o/2,0>y?y=0:y+o>k&&(y=k-o)),a.setTranslate(p,{x:c,y:y});var e=-c/m,f=-y/m;a.setWrapperTranslate(e,f)}function x(){p.style.width="",p.style.height="",h?(j=a.h.getWidth(i,!0),l=a.width/a.h.getWidth(a.wrapper),m=l*(j/a.width),n=j*l,p.style.width=n+"px"):(k=a.h.getHeight(i,!0),l=a.height/a.h.getHeight(a.wrapper),m=l*(k/a.height),o=k*l,o>k&&(o=k),p.style.height=o+"px")}var c=b&&b.container;if(c){var d={hide:!0,draggable:!0,snapOnRelease:!1};b=b||{};for(var e in d)e in b||(b[e]=d[e]);if((document.querySelectorAll||window.jQuery)&&(b.container.nodeType||0!=f(b.container).length)){var j,k,l,m,n,o,g=b.container.nodeType?b.container:f(b.container)[0],h="horizontal"==a.params.mode,i=g,p=document.createElement("div");p.className="swiper-scrollbar-drag",b.draggable&&(p.className+=" swiper-scrollbar-cursor-drag"),i.appendChild(p),b.hide&&(i.style.opacity=0);var q=a.touchEvents;if(b.draggable){var r=!1,v=a.support.touch?i:document;a.h.addEventListener(i,q.touchStart,s,!1),a.h.addEventListener(v,q.touchMove,t,!1),a.h.addEventListener(v,q.touchEnd,u,!1)}var z,A={onFirstInit:function(){x()},onInit:function(){x()},onTouchMoveEnd:function(){b.hide&&(clearTimeout(z),i.style.opacity=1,a.setTransition(i,200))},onTouchEnd:function(){b.hide&&(clearTimeout(z),z=setTimeout(function(){i.style.opacity=0,a.setTransition(i,400)},1e3))},onSetWrapperTransform:function(c){if(h){var d=c.x*m,e=n;if(d>0){var f=d;d=0,e=n-f}else-d+n>j&&(e=j+d);a.setTranslate(p,{x:-d}),p.style.width=e+"px"}else{var g=c.y*m,l=o;if(g>0){var f=g;g=0,l=o-f}else-g+o>k&&(l=k+g);a.setTranslate(p,{y:-g}),p.style.height=l+"px"}a.params.freeMode&&b.hide&&(clearTimeout(z),i.style.opacity=1,z=setTimeout(function(){i.style.opacity=0,a.setTransition(i,400)},1e3))},onSetWrapperTransition:function(b){a.setTransition(p,b.duration)},onDestroy:function(){var b=a.support.touch?i:document;a.h.removeEventListener(i,q.touchStart,s,!1),a.h.removeEventListener(b,q.touchMove,t,!1),a.h.removeEventListener(b,q.touchEnd,u,!1)}};return A}}};