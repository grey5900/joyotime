function clearOverlays(e){for(var o;o=e.pop();)o.setMap(null)}function dragendLocation(e){google.maps.event.addListener(e,"dragend",function(){var o=e.getPosition().lat(),a=e.getPosition().lng(),n=new google.maps.LatLng(o,a);$("#RecordCommentLongitude").val(a),$("#RecordCommentLatitude").val(o),geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:n},function(e,o){o==google.maps.GeocoderStatus.OK?e[0]?($("#RecordCommentAddress").val(e[0].formatted_address),$.getJSON("http://maps.google.com/maps/api/geocode/json?latlng="+n.lat()+","+n.lng()+"&language=en_US@&sensor=false",function(e){var o=JSON.stringify(e.results[0].address_components);$("input#address_components").val(o)})):$.messager("没找到地址"):$.messager("Geocoder failed due to: "+o)})})}function searchKeyword(e,o,a){var n=new google.maps.Geocoder;n.geocode({address:e},function(e,n){if(n==google.maps.GeocoderStatus.OK){if(e[0]){var t=e[0].geometry.location.lat(),d=e[0].geometry.location.lng(),s=new google.maps.LatLng(t,d);a=new google.maps.Map(document.getElementById("mapContainer"),{center:s,zoom:16}),o=new google.maps.Marker({position:s,draggable:!0,map:a}),dragendLocation(o),$("#RecordCommentAddress").val(e[0].formatted_address),$("#RecordCommentLongitude").val(d),$("#RecordCommentLatitude").val(t),$.getJSON("http://maps.google.com/maps/api/geocode/json?latlng="+t+","+d+"&language=en_US@&sensor=false",function(e){var o=JSON.stringify(e.results[0].address_components);$("input#address_components").val(o)})}}else $.messager("Geocode was not successful for the following reason: "+n)})}