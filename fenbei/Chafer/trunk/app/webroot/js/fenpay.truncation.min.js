!function(a){"use strict";function b(a,c,d,e,f,g,h,i){var k,l,m,n,o,j=function(a){return(i?h:"")+a+(i?"":h)};return i?(k=0===e?"":d.slice(-e),l=d.slice(-f)):(k=d.slice(0,e),l=d.slice(0,f)),c<g.html(h)[a]()?0:(n=g.html(j(l))[a](),o=g.html(j(k))[a](),o>n?f:(m=parseInt((e+f)/2,10),k=i?d.slice(-m):d.slice(0,m),g.html(j(k)),g[a]()===c?m:(g[a]()>c?f=m-1:e=m+1,b(a,c,d,e,f,g,h,i))))}a.fn.truncate=function(c){c&&c.center&&!c.side&&(c.side="center",delete c.center),c&&!/^(left|right|center)$/.test(c.side)&&delete c.side;var d={width:"auto",token:"&hellip;",side:"right",addclass:!1,addtitle:!1,multiline:!1};return c=a.extend(d,c),this.each(function(){var k,l,m,d=a(this),e={fontFamily:d.css("fontFamily"),fontSize:d.css("fontSize"),fontStyle:d.css("fontStyle"),fontWeight:d.css("fontWeight"),"font-variant":d.css("font-variant"),"text-indent":d.css("text-indent"),"text-transform":d.css("text-transform"),"letter-spacing":d.css("letter-spacing"),"word-spacing":d.css("word-spacing"),display:"none"},f=d.text(),g=a("<span/>").css(e).html(f).appendTo("body"),h=g.width(),i=parseInt(c.width,10)||d.width(),j="width";if(c.multiline?(g.width(d.width()),j="height",l=g.height(),m=d.height()+1):(l=h,m=i),l>m){var n,o;g.text(""),"left"===c.side?(n=b(j,m,f,0,f.length,g,c.token,!0),k=[c.token,f.slice(-1*n)].join("")):"center"===c.side?(m=parseInt(m/2,10)-1,n=b(j,m,f,0,f.length,g,c.token,!1),o=b(j,m,f,0,f.length,g,"",!0),k=[f.slice(0,n),c.token,f.slice(-1*o)].join("")):"right"===c.side&&(n=b(j,m,f,0,f.length,g,c.token,!1),k=[f.slice(0,n),c.token].join("")),c.addclass&&d.addClass(c.addclass),c.addtitle&&d.attr("title",f),d.empty().append(k)}g.remove()})}}(jQuery);